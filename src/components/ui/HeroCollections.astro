---
import ResponsiveImage from '@/components/ResponsiveImage.astro';

interface Props {
  title: string;
  description?: string;
  content?: string;
  bgColorClass?: string;   // default background color
  textColorClass?: string; // text color class
  minHeight?: string;      // height class
  image?: string;          // background image src
  imageAlt?: string;       // alt text for background image
  imageLoading?: 'lazy' | 'eager' | 'delay';
  imageBreakpoints?: { mobile?: number; desktop?: number };
  imageOpacity?: number;   // background opacity (0-1)
}

const {
  title,
  description,
  content,
  bgColorClass = "bg-secondary-base",
  textColorClass = "col-base-00",
  minHeight = "mn-h-230",
  image,
  imageAlt,
  imageLoading = "delay",
  imageBreakpoints,
  imageOpacity = 0.15
} = Astro.props;
---

<header id="content-header" class={`relative overflow-hidden ${bgColorClass} ${textColorClass}`}>
  {image && (
    <ResponsiveImage
      src={image}
      alt={imageAlt ?? title}
      loading={imageLoading}
      breakpoints={imageBreakpoints && imageBreakpoints.mobile !== undefined && imageBreakpoints.desktop !== undefined
        ? { mobile: imageBreakpoints.mobile, desktop: imageBreakpoints.desktop }
        : undefined}
      className="absolute inset-0 w-100p h-full z-0"
      imageClassName="object-cover w-100p h-full opacity-05"
    />
  )}

  <div class={`max-w-featured w-100p relative z-10 mi-auto ta-center h-fit flex flex-col jc-center px-2 ${minHeight}`}>
    <h1 class="my-1">{title}</h1>
    {description && <p class="text-xl">{description}</p>}
    {content && <p class="text-base my-2 max-w-content mi-auto">{content}</p>}
  </div>
</header>
