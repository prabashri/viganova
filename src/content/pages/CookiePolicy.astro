---
import HeroPages from '@/components/ui/HeroPages.astro';
import Anchor from '@/components/ui/Anchor.astro';
import { siteDefaults } from '@/config/siteDefaults';
import { siteFunctions } from '@/config/siteFunctions';
import { machineAndHuman } from '@/utils/date-format';

interface Props {
  updatedAt?: string | number | Date;
  publishedAt?: string | number | Date;
  title?: string;
  description?: string;
}

const props = Astro.props as Props;

const eff = props.updatedAt
  ? machineAndHuman(props.updatedAt)
  : (props.publishedAt ? machineAndHuman(props.publishedAt) : undefined);

const siteName = siteDefaults.siteName;
const websiteUrl =
  siteDefaults.siteUrl || `https://${siteDefaults.domainName}`;
const contactEmail =
  siteDefaults.contact?.email ||
  siteDefaults.admin?.email ||
  `contact@${siteDefaults.domainName}`;

const orgDisplayName =
  (siteDefaults as any).parentOrganization?.legalName ||
  siteDefaults.legalName ||
  (siteDefaults as any).parentOrganization?.name ||
  siteDefaults.siteName;

const pageDesc =
  props.description ??
  `How ${siteName} uses cookies and similar technologies for essential site functionality, reliability, security, performance analytics, and optional media embeds. Learn how to manage or clear cookies.`;
---

<article
  class="prose mx-auto"
  itemscope
  itemtype="https://schema.org/WebPage"
>
  <HeroPages
    variant="post"
    title={`Cookie Policy of ${siteName}`}
    description={pageDesc}
    meta={false}
    updatedAt={props.updatedAt || props.publishedAt}
    headingClass="my-05 mx-auto"
    class="mn-h-230 jc-center"
    descriptionClass="max-w-featured text-xl my-1"
  />

  <div class="max-w-content px-1 py-2 mx-auto">
    {eff?.human && (
      <p class="my-2">
        <strong>Effective date:</strong>{' '}
        <time datetime={eff.iso}>{eff.human}</time>
      </p>
    )}

    <p>
      This Cookie Policy explains how <strong>{orgDisplayName}</strong> (‚Äúwe‚Äù, ‚Äúus‚Äù, or
      ‚Äúour‚Äù) uses cookies and similar technologies on
      <Anchor href={websiteUrl}> {websiteUrl}</Anchor>. It also explains the
      choices you have to control or delete cookies.
    </p>

    <p class="text-s opacity-80">
      {siteName} operates in the clean energy / hydrogen technology sector. Our
      website is primarily used for information, technical outreach, and
      partnership discussions. We do not run ad networks or sell personal
      browsing data.
    </p>

    <h2>1) What are cookies?</h2>
    <p>
      Cookies are small text files stored on your device when you visit a
      website. They help the site remember certain information (such as basic
      preferences or session status). We may also use related technologies
      such as local storage, pixels, or tags to measure performance and keep
      the site stable and secure.
    </p>

    <h2>2) How we use cookies</h2>
    <p>
      We use cookies and similar technologies for the following purposes:
    </p>
    <ul>
      <li>
        <strong>Essential / security cookies</strong> ‚Äî Required so the site
        can load correctly, protect against abuse, and let forms or basic
        navigation work. These are always on because the site will not work
        properly without them.
      </li>
      <li>
        <strong>Functional cookies</strong> ‚Äî May remember certain
        preferences like language/region or presentation mode so you don‚Äôt
        have to re-enter the same information.
      </li>
      <li>
        <strong>Analytics / performance cookies</strong> ‚Äî Help us
        understand which pages are visited, which features are useful, and
        where users experience friction. This improves reliability and helps
        us prioritize engineering effort. We aim to analyze trends, not
        identify individuals.{' '}
        {siteFunctions?.analyticsId && (
          <>For example, we may use analytics tagged with ID {siteFunctions.analyticsId}.</>
        )}
      </li>
      <li>
        <strong>Embedded media / technical demos</strong> ‚Äî When we embed
        things like videos, diagrams, or interactive demos from third-party
        platforms (for example, to explain electrolyzer stack design or
        hydrogen storage systems), those platforms may set their own cookies.
      </li>
    </ul>

    <p class="text-s opacity-80">
      We do <strong>not</strong> operate behavioral advertising networks and
      we do <strong>not</strong> sell your browsing behavior.
    </p>

    <h2>3) Third-party cookies</h2>
    <p>
      Some cookies or tracking technologies may be placed by third-party
      services we integrate for functionality, analytics, media, or
      communication. Examples:
    </p>
    <ul>
      <li>
        <strong>Analytics providers</strong> (to measure site usage and
        performance).
      </li>
      <li>
        <strong>Video / media hosting</strong> (for product explainers,
        research talks, hydrogen system walkthroughs).
      </li>
      <li>
        <strong>Communication tools</strong> (for contact forms, call
        scheduling, investor/partner inquiries).
      </li>
    </ul>
    <p>
      These providers have their own privacy and cookie policies. For example:
    </p>
    <ul>
      <li>
        <Anchor
          href="https://policies.google.com/privacy"
          rel="nofollow noopener"
          target="_blank"
        >
          Google Privacy &amp; Terms
        </Anchor>
      </li>
      <li>
        <Anchor href="/privacy-policy/">
          {siteName} Privacy Policy
        </Anchor>
      </li>
    </ul>

    <h2>4) Managing your cookie preferences</h2>
    <p>
      You are in control. You can usually manage cookies in two ways:
    </p>
    <ul>
      <li>
        <strong>Browser controls</strong> ‚Äî Most browsers let you block,
        limit, or delete cookies. You can also clear cookies at any time.
      </li>
      <li>
        <strong>Cookie / consent banner</strong> ‚Äî If we display a cookie
        banner or ‚Äúpreferences‚Äù panel, you can use it to allow only essential
        cookies and opt out of analytics/optional cookies.
      </li>
    </ul>

    <h3>How to clear cookies in major browsers</h3>
    <ul>
      <li>
        <strong>Chrome:</strong> Settings ‚Üí Privacy &amp; Security ‚Üí Clear
        browsing data ‚Üí ‚ÄúCookies and other site data‚Äù.
      </li>
      <li>
        <strong>Edge:</strong> Settings ‚Üí Privacy, Search, and Services ‚Üí
        Clear browsing data ‚Üí ‚ÄúCookies and other site data‚Äù.
      </li>
      <li>
        <strong>Firefox:</strong> Settings ‚Üí Privacy &amp; Security ‚Üí
        Cookies and Site Data ‚Üí ‚ÄúClear Data‚Ä¶‚Äù.
      </li>
      <li>
        <strong>Safari (macOS / iOS):</strong> Settings / Preferences ‚Üí
        Privacy ‚Üí Manage Website Data ‚Üí Remove All.
      </li>
      <li>
        <strong>Opera:</strong> Settings ‚Üí Privacy &amp; Security ‚Üí Clear
        browsing data ‚Üí ‚ÄúCookies and other site data‚Äù.
      </li>
    </ul>

    <p class="text-s col-base-70 italic">
      Tip: Private / Incognito windows generally delete cookies at the end of
      your session.
    </p>

    <h2>5) What happens if you block cookies?</h2>
    <p>
      You can browse most informational pages with strict cookie settings.
      However, blocking some cookies ‚Äî especially essential or functional
      ones ‚Äî may cause certain forms, dashboards, media embeds, or
      interactive visuals not to load or not to behave as intended.
    </p>

    <h2>6) Updates to this Cookie Policy</h2>
    <p>
      We may update this Cookie Policy if we add new site features (for
      example, live dashboards, partner portals, pilot-program status
      tracking) or change which analytics / infrastructure vendors we use.
      The ‚ÄúEffective date‚Äù above will always show the latest version. If you
      continue to use the site after updates, that means you accept the
      revised Cookie Policy.
    </p>

    <h2>7) Contact</h2>
    <p>
      If you have questions about cookies, analytics, or data usage, contact
      us at:
    </p>
    <p class="my-05">
      üìß{' '}
      <Anchor href={`mailto:${contactEmail}`}>
        <strong>{contactEmail}</strong>
      </Anchor>
    </p>

    <p class="text-s opacity-70">
      For broader details on how we handle personal and business information,
      including inquiries about hydrogen systems, electrolyzer performance,
      storage, or Power-to-Gas deployments, please review our{' '}
      <Anchor href="/privacy-policy/">
        <strong>Privacy Policy</strong>
      </Anchor>.
    </p>
  </div>
</article>
